<h2>Angular FormArray</h2>

<form [formGroup]="formAgregar" (ngSubmit)="enviarForm()">
  id
  <input type="text" formControlName="id" />
  <div style="margin: 20px 0 20px 0;">
    <button type="button" (click)="addContact()">Add Contact</button>
  </div>
  <div formArrayName="contactos">
    <div
      *ngFor="
        let contacto of contactFormGroup.controls;
        let contactoIndex = index
      "
    >
      <hr />
      <div [formGroupName]="contactoIndex" style="margin-bottom: 5px;">
        <div>
          nombre <input type="text" formControlName="name" />
          <button (click)="deleteContact(contactoIndex)">X</button>
        </div>
        <button
          type="button"
          (click)="addPhone(contacto)"
          style="margin: 25px 0px 15px 0px;"
        >
          Add Phone
        </button>
        <div>telefonos:</div>
        <div formArrayName="telefonos">
          <div
            *ngFor="
              let phone of contacto.get('telefonos').controls;
              let telefonoIndex = index
            "
          >
            <div [formGroupName]="telefonoIndex" style="margin-bottom: 5px;">
              <input type="text" formControlName="number" />
              <button
                type="button"
                (click)="deletePhone(contacto, telefonoIndex)"
              >
                X
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <hr />
  <br />
  <pre>
      {{ formAgregar.value | json }}
    </pre
  >
  aqui
</form>
